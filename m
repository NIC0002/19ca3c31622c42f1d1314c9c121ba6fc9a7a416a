Return-Path: <git-owner@kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	aws-us-west-2-korg-lkml-1.web.codeaurora.org
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by smtp.lore.kernel.org (Postfix) with ESMTP id 78221C4332F
	for <git@archiver.kernel.org>; Wed, 12 Oct 2022 09:10:23 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229763AbiJLJKW (ORCPT <rfc822;git@archiver.kernel.org>);
        Wed, 12 Oct 2022 05:10:22 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:51562 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229734AbiJLJKT (ORCPT <rfc822;git@vger.kernel.org>);
        Wed, 12 Oct 2022 05:10:19 -0400
Received: from mail-ej1-x62b.google.com (mail-ej1-x62b.google.com [IPv6:2a00:1450:4864:20::62b])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id A65BA5F7CF
        for <git@vger.kernel.org>; Wed, 12 Oct 2022 02:10:17 -0700 (PDT)
Received: by mail-ej1-x62b.google.com with SMTP id w18so10197135ejq.11
        for <git@vger.kernel.org>; Wed, 12 Oct 2022 02:10:17 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=gmail.com; s=20210112;
        h=mime-version:message-id:in-reply-to:user-agent:references:date
         :subject:cc:to:from:from:to:cc:subject:date:message-id:reply-to;
        bh=EQfq7m1pLMX+lvd3Zz3qggSOKMlmAzjaRI7F0OGwoBs=;
        b=kWkW6XBtj8gZGT+Lxd6cfjQ6bdAm1XIDmgOqzO4fyYjYNExqKEn4NsEeSrJap5Q9rY
         oa3w/KcmMdlZCCQYIAOjuTRf1Dt72zOtXx8+6hesnwz2oXoSqxs59r4bM8jpuAgvXV9u
         iDXjBwdlDGyah2tMwlbnnWbdJ9t4altSNokVb72RsSLNRjWdfb4XaR0FNA4UjvjTzdv7
         K05ZoYcuu/ZDSn3g185TPBVEOG+CgsrnmD1m3WmLwGsRPeD8pIc2FFjAOMIF4DrZjYJw
         5w9lK/ui6ATZzQgPEH9tKFkfrWeogW8JrlrM35zoXqhpn0nihJAa4NDxIL/JYPjCa6Ue
         bG1g==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
        d=1e100.net; s=20210112;
        h=mime-version:message-id:in-reply-to:user-agent:references:date
         :subject:cc:to:from:x-gm-message-state:from:to:cc:subject:date
         :message-id:reply-to;
        bh=EQfq7m1pLMX+lvd3Zz3qggSOKMlmAzjaRI7F0OGwoBs=;
        b=QFDKXtFfDosCPJnsubuUhij4ppvzibM8v9KvHrC5tjYE0BFr4OXP9M4rZccFVG9XiF
         MzH4z8QpV540mV9C9d+k3Avzd1Ftug8m1H8OqMNqQ4QqBEp8J6XMh9dU8O92F+TK+uII
         CTdzTOnTUr238wpUDJ53QNMVHWY1ufJw++ino9XVf1HDuT0XgoAdOPRhcfbnZG8nnMO0
         4IhZfbCIBDPMi1WLHvkV0EgfJAiEasWlxNlUgK7623LKyVCM/ZYIxCZoOgUm05t7WCBP
         p/Q01hynDO33XkHBySJGI3lMzwy2UajvBsevrukuj058tr1epr61/xivN7TcY7xg3Ns9
         Jxqw==
X-Gm-Message-State: ACrzQf2YTdP7KpaphrjNn6zkNHL8gpZJ82wvgsMgkWqmHEopb/t1XNTZ
        CxEv+Cg/vfGTj1otaCqvgga70BoFK7gd2g==
X-Google-Smtp-Source: AMsMyM6kAmCFlcHYBT4IjtsXCyZe1WNMILcGRjhMjOL7tDkuCluBXnYcTnwV0czBjjcr98Gmz7f71Q==
X-Received: by 2002:a17:907:9713:b0:78d:8e23:892c with SMTP id jg19-20020a170907971300b0078d8e23892cmr18346535ejc.449.1665565815737;
        Wed, 12 Oct 2022 02:10:15 -0700 (PDT)
Received: from gmgdl (dhcp-077-248-183-071.chello.nl. [77.248.183.71])
        by smtp.gmail.com with ESMTPSA id j9-20020a17090623e900b0077a8fa8ba55sm873107ejg.210.2022.10.12.02.10.15
        (version=TLS1_3 cipher=TLS_AES_256_GCM_SHA384 bits=256/256);
        Wed, 12 Oct 2022 02:10:15 -0700 (PDT)
Received: from avar by gmgdl with local (Exim 4.96)
        (envelope-from <avarab@gmail.com>)
        id 1oiXkk-004GCI-1n;
        Wed, 12 Oct 2022 11:10:14 +0200
From:   =?utf-8?B?w4Z2YXIgQXJuZmrDtnLDsA==?= Bjarmason <avarab@gmail.com>
To:     skrab-sah via GitGitGadget <gitgitgadget@gmail.com>
Cc:     git@vger.kernel.org, skrab-sah <skrab.sah@gmail.com>
Subject: Re: [PATCH] abspath.h file is generated by makeheaders tool
Date:   Wed, 12 Oct 2022 11:04:52 +0200
References: <pull.1353.git.git.1665563819680.gitgitgadget@gmail.com>
User-agent: Debian GNU/Linux bookworm/sid; Emacs 27.1; mu4e 1.9.0
In-reply-to: <pull.1353.git.git.1665563819680.gitgitgadget@gmail.com>
Message-ID: <221012.86r0zdmmq1.gmgdl@evledraar.gmail.com>
MIME-Version: 1.0
Content-Type: text/plain
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org


On Wed, Oct 12 2022, skrab-sah via GitGitGadget wrote:

> From: skrab-sah <skrab.sah@gmail.com>
>
> 1. We don't need to commit the file.
> 2. Added routin for abspath.c in Makefile.
> 3. Added tool support for makeheaders.
>
> Signed-off-by: skrab-sah <skrab.sah@gmail.com>

Not to repeat earlier feedback, but I really think you need to read &
internalize some of it rather than keep submitting these:
https://lore.kernel.org/git/?q=skrab-sah

Not commenting on much of this, except:

> @@ -1,5 +1,21 @@
>  # The default target of this Makefile is...
> -all::
> +all:: hdr
> +
> +
> +# In parallel mode things goes up and down.
> +.NOTPARALLEL:

I think this really goes to what i was pointing out in
https://lore.kernel.org/git/220923.861qs25yr8.gmgdl@evledraar.gmail.com/

You're making very fundimental changes to a subsystem that your changes
themselves show you clearly don't understand that well.

Firstly, we have a lot of things in this makefile which don't require C
compilation, so putting a "hdr" as an "all" dependency is a no-go.

Secondly, you've globally marked our Makefile as "nothing here can run
in parallel", i.e. the single biggest slowdown it's ever had, presumably
because you got some dependency chain wrong, and are usin git as a
workaround.
