Return-Path: <git-owner@kernel.org>
X-Spam-Checker-Version: SpamAssassin 3.4.0 (2014-02-07) on
	aws-us-west-2-korg-lkml-1.web.codeaurora.org
Received: from vger.kernel.org (vger.kernel.org [23.128.96.18])
	by smtp.lore.kernel.org (Postfix) with ESMTP id E897AECAAA1
	for <git@archiver.kernel.org>; Fri, 28 Oct 2022 17:35:43 +0000 (UTC)
Received: (majordomo@vger.kernel.org) by vger.kernel.org via listexpand
        id S229905AbiJ1Rfm (ORCPT <rfc822;git@archiver.kernel.org>);
        Fri, 28 Oct 2022 13:35:42 -0400
Received: from lindbergh.monkeyblade.net ([23.128.96.19]:35534 "EHLO
        lindbergh.monkeyblade.net" rhost-flags-OK-OK-OK-OK) by vger.kernel.org
        with ESMTP id S229981AbiJ1Rff (ORCPT <rfc822;git@vger.kernel.org>);
        Fri, 28 Oct 2022 13:35:35 -0400
X-Greylist: delayed 5381 seconds by postgrey-1.37 at lindbergh.monkeyblade.net; Fri, 28 Oct 2022 10:35:33 PDT
Received: from fallback21.mail.ru (fallback21.m.smailru.net [94.100.176.131])
        by lindbergh.monkeyblade.net (Postfix) with ESMTPS id 1415F18E2AF
        for <git@vger.kernel.org>; Fri, 28 Oct 2022 10:35:32 -0700 (PDT)
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mail.ru; s=mail4;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:From:Subject:Content-Type:Content-Transfer-Encoding:To:Cc; bh=5G8mkEBFM6Mf/s68oUw3NG/v3tgIUNMzyIOkHqf6R6M=;
        t=1666978533;x=1667068533; 
        b=WEY0gM1fa2UNhjVaeAbVg0uOHBvemago6XQfXr9TMYom2JnNKusXDl5Essr+vVBA70WQFN5KdYe7WlK7maFrGUL+GhlHn6vkO/5jle3PMUJTLzLA80IzhRQjS9HUDztuyypI3VbJQh0nmCeEtMc2KwNcP5vxOGN0+tHDshxSZ+XZLRY3VD5FPr3bMvkjueQBOIz7Z9mXE6CkDPZdHVHecs1je9UH8burGSVYqzkZX9pfHrXexhKneAjwTBzgSroRZSHTtmEi5fswvlQ1ZcdOXS2soT9YILyjLvbnmEMfZpSQ3sa3X2bC6GT4LUqrAxPmfvotZb3X5tZyCOybdR43Gw==;
Received: from [10.161.64.51] (port=38340 helo=smtp43.i.mail.ru)
        by fallback21.m.smailru.net with esmtp (envelope-from <alexander_sergey@mail.ru>)
        id 1ooRrg-0003SE-P4; Fri, 28 Oct 2022 19:05:49 +0300
DKIM-Signature: v=1; a=rsa-sha256; q=dns/txt; c=relaxed/relaxed; d=mail.ru; s=mail4;
        h=Content-Transfer-Encoding:Content-Type:MIME-Version:References:In-Reply-To:Message-Id:Date:Subject:Cc:To:From:From:Subject:Content-Type:Content-Transfer-Encoding:To:Cc; bh=5G8mkEBFM6Mf/s68oUw3NG/v3tgIUNMzyIOkHqf6R6M=;
        t=1666973148;x=1667063148; 
        b=amiwW//fO2ZGydqPDTW/FilsZ1nRxmo1ZCJTe8oLb/RrcEwMq0A09xrZfyl/223s22Hrs8Mxg+aAGRMN1mnRG96PSW8Uko4ZsTldBWcjFvJNyFPO1jP68dggl/ZqdmXwu4ORg/LUgGx2kd2NW44APSswPp0D25Mc9bWt3gWYoMga9SxK1fpAzizg6dBBnjmkuVXNUJF1C/MGX034mSbwG0YqShRHwzorgIFZjDfJ2KV0d/jlarYwMo1gOCcwyV/jIPQE40HEqweiv8ybLNrXniiokw3fWxw4WWHs7p8BgFIpUJvk7HY0ht60F/IxMLRF/skd6N8gE+QYCH0mInY3Cw==;
Received: by smtp43.i.mail.ru with esmtpa (envelope-from <alexander_sergey@mail.ru>)
        id 1ooRqx-0007Xv-RI; Fri, 28 Oct 2022 19:05:04 +0300
From:   Mingun <alexander_sergey@mail.ru>
To:     sergiodj@sergiodj.net
Cc:     git@vger.kernel.org, newren@gmail.com, pclouds@gmail.com,
        peff@peff.net, phillip.wood123@gmail.com,
        phillip.wood@dunelm.org.uk, Mingun <alexander_sergey@mail.ru>
Subject: Re: Possible race condition with git-rebase + .git/index.lock - probably a gettext issue
Date:   Fri, 28 Oct 2022 21:04:51 +0500
Message-Id: <20221028160451.2040-1-alexander_sergey@mail.ru>
X-Mailer: git-send-email 2.33.1.windows.1
In-Reply-To: <87lg1i4h6g.fsf@sergiodj.net>
References: <87lg1i4h6g.fsf@sergiodj.net>
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: quoted-printable
X-Mailru-Src: smtp
X-7564579A: EEAE043A70213CC8
X-77F55803: 4F1203BC0FB41BD9F10FC5182E40B98AB65711677F58707DD4CC2F20BE0618E21313CFAB8367EF908E2BE116634AD74D7B4809695ECAFD4531F43F70EBC92445994B5254E7B532EC4787F701E01BBF3D
X-7FA49CB5: FF5795518A3D127A4AD6D5ED66289B5278DA827A17800CE779AAD18609327F83EA1F7E6F0F101C67BD4B6F7A4D31EC0BCC500DACC3FED6E28638F802B75D45FF8AA50765F79006376EC5B14D896A2D978638F802B75D45FF36EB9D2243A4F8B5A6FCA7DBDB1FC311F39EFFDF887939037866D6147AF826D8A13E0DED0B2A25A9422E6D55B26089F76F9789CCF6C18C3F8528715B7D10C86878DA827A17800CE7A6779F98BF527B7A9FA2833FD35BB23D9E625A9149C048EE7B96B19DC4093321C26CFBAC0749D213D2E47CDBA5A96583BD4B6F7A4D31EC0BC014FD901B82EE079FA2833FD35BB23D27C277FBC8AE2E8B8C7ADC89C2F0B2A5A471835C12D1D977C4224003CC836476EB9C4185024447017B076A6E789B0E975F5C1EE8F4F765FCE95B4490390D5D973AA81AA40904B5D9CF19DD082D7633A078D18283394535A93AA81AA40904B5D98AA50765F7900637ABF6AAD2884AC3A4D81D268191BDAD3D3666184CF4C3C14F3FC91FA280E0CE3D1A620F70A64A45A98AA50765F7900637F1CEADB5F7626D0D6D1867E19FE1407959CC434672EE6371089D37D7C0E48F6C8AA50765F79006374E7EFF2C31D5F488EFF80C71ABB335746BA297DBC24807EABDAD6C7F3747799A
X-C8649E89: 4E36BF7865823D7055A7F0CF078B5EC49A30900B95165D346B222596F62B8FA98673A4F9D15AFF4280FC998CD5AA6C88518F623142FEACDE84E9C7CCBF63FB951D7E09C32AA3244C9D11B740F3C49FB3E45759DF38B146E481560E2432555DBBAD832FF50B3043B1
X-D57D3AED: 3ZO7eAau8CL7WIMRKs4sN3D3tLDjz0dLbV79QFUyzQ2Ujvy7cMT6pYYqY16iZVKkSc3dCLJ7zSJH7+u4VD18S7Vl4ZUrpaVfd2+vE6kuoey4m4VkSEu530nj6fImhcD4MUrOEAnl0W826KZ9Q+tr5ycPtXkTV4k65bRjmOUUP8cvGozZ33TWg5HZplvhhXbhDGzqmQDTd6OAevLeAnq3Ra9uf7zvY2zzsIhlcp/Y7m53TZgf2aB4JOg4gkr2biojLzGdefZVwIvAxQhT61nhjg==
X-Mailru-Sender: 2F4ABDC2EB9C562B4F38245D07FEF733021C9E1FF4B88591BF3F83E891B1DAF7BF11CDC8B035040C1594ED699738DD4266FEC6BF5C9C28D948C86D9B23B96BF8817C21FF9072AC915FEEDEB644C299C0ED14614B50AE0675
X-Mras: Ok
X-7564579A: 646B95376F6C166E
X-77F55803: 6242723A09DB00B47378526161367B8C6AB7E7CA504510EB7161C9E83C74A80F049FFFDB7839CE9E9D329773EC48738B329EBC3665D61B980D863BC372E1ECFB7E7721A1ED833059
X-7FA49CB5: 0D63561A33F958A5B4F552257EEB516CE2B9D6C76D7184ED732CC738DAB832A1CACD7DF95DA8FC8BD5E8D9A59859A8B6E954A0C70C50C109CC7F00164DA146DAFE8445B8C89999728AA50765F7900637933091C8A0E99779389733CBF5DBD5E9C8A9BA7A39EFB766F5D81C698A659EA7CC7F00164DA146DA9985D098DBDEAEC8AD74539164518AE5F6B57BC7E6449061A352F6E88A58FB86F5D81C698A659EA73AA81AA40904B5D9A18204E546F3947C7BD21ED50D08CA4D040F9FF01DFDA4A84AD6D5ED66289B52698AB9A7B718F8C442539A7722CA490CD5E8D9A59859A8B656CEB35FA752C8FD089D37D7C0E48F6C5571747095F342E88FB05168BE4CE3AF
X-D57D3AED: 3ZO7eAau8CL7WIMRKs4sN3D3tLDjz0dLbV79QFUyzQ2Ujvy7cMT6pYYqY16iZVKkSc3dCLJ7zSJH7+u4VD18S7Vl4ZUrpaVfd2+vE6kuoey4m4VkSEu530nj6fImhcD4MUrOEAnl0W826KZ9Q+tr5ycPtXkTV4k65bRjmOUUP8cvGozZ33TWg5HZplvhhXbhDGzqmQDTd6OAevLeAnq3Ra9uf7zvY2zzsIhlcp/Y7m53TZgf2aB4JOg4gkr2biojLzGdefZVwIvpiXWYc9GCqw==
X-Mailru-MI: 800
X-Mras: Ok
Precedence: bulk
List-ID: <git.vger.kernel.org>
X-Mailing-List: git@vger.kernel.org

---=0D
It seems that this bug is related to localization library, similar to this =
diesel issue: https://github.com/diesel-rs/diesel/discussions/2947#discussi=
oncomment-2025857.=0D
=0D
Also, this bug is highly depend on the free space capacity on a drive where=
 working copy is located. I encounter this bug each time when my ssd is nea=
rly full (about 6 GB of free space on 120 GB drive).=0D
=0D
About 90% of time, when I try to use `git svn rebase` in such conditions, t=
he operation failed:=0D
=0D
```=0D
$ git svn rebase=0D
warning: =D0=BF=D1=80=D0=BE=D0=BF=D1=83=D1=89=D0=B5=D0=BD =D1=83=D0=B6=D0=
=B5 =D0=BF=D1=80=D0=B8=D0=BC=D0=B5=D0=BD=D1=91=D0=BD=D0=BD=D1=8B=D0=B9 =D0=
=BA=D0=BE=D0=BC=D0=BC=D0=B8=D1=82 ef0998895a6=0D
warning: =D0=BF=D1=80=D0=BE=D0=BF=D1=83=D1=89=D0=B5=D0=BD =D1=83=D0=B6=D0=
=B5 =D0=BF=D1=80=D0=B8=D0=BC=D0=B5=D0=BD=D1=91=D0=BD=D0=BD=D1=8B=D0=B9 =D0=
=BA=D0=BE=D0=BC=D0=BC=D0=B8=D1=82 d1dbbd6ef8b=0D
=D0=BF=D0=BE=D0=B4=D1=81=D0=BA=D0=B0=D0=B7=D0=BA=D0=B0: use --reapply-cherr=
y-picks to include skipped commits=0D
=D0=BF=D0=BE=D0=B4=D1=81=D0=BA=D0=B0=D0=B7=D0=BA=D0=B0: Disable this messag=
e with "git config advice.skippedCherryPicks false"=0D
fatal: =D0=9D=D0=B5 =D1=83=D0=B4=D0=B0=D0=BB=D0=BE=D1=81=D1=8C =D1=81=D0=BE=
=D0=B7=D0=B4=D0=B0=D1=82=D1=8C =C2=AB/path/to/my/git/repo/.git/index.lock=
=C2=BB: =D0=A4=D0=B0=D0=B9=D0=BB =D1=81=D1=83=D1=89=D0=B5=D1=81=D1=82=D0=B2=
=D1=83=D0=B5=D1=82.=0D
=0D
=D0=9F=D0=BE=D1=85=D0=BE=D0=B6=D0=B5, =D1=87=D1=82=D0=BE =D0=B4=D1=80=D1=83=
=D0=B3=D0=BE=D0=B9 =D0=BF=D1=80=D0=BE=D1=86=D0=B5=D1=81=D1=81 git =D0=B7=D0=
=B0=D0=BF=D1=83=D1=89=D0=B5=D0=BD =D0=B2 =D1=8D=D1=82=D0=BE=D0=BC =D1=80=D0=
=B5=D0=BF=D0=BE=D0=B7=D0=B8=D1=82=D0=BE=D1=80=D0=B8=D0=B8,=0D
=D0=BD=D0=B0=D0=BF=D1=80=D0=B8=D0=BC=D0=B5=D1=80 =D1=80=D0=B5=D0=B4=D0=B0=
=D0=BA=D1=82=D0=BE=D1=80 =D0=BE=D1=82=D0=BA=D1=80=D1=8B=D1=82 =D0=B8=D0=B7 =
=C2=ABgit commit=C2=BB. =D0=9F=D0=BE=D0=B6=D0=B0=D0=BB=D1=83=D0=B9=D1=81=D1=
=82=D0=B0, =D1=83=D0=B1=D0=B5=D0=B4=D0=B8=D1=82=D0=B5=D1=81=D1=8C,=0D
=D1=87=D1=82=D0=BE =D0=B2=D1=81=D0=B5 =D0=BF=D1=80=D0=BE=D1=86=D0=B5=D1=81=
=D1=81=D1=8B =D0=B1=D1=8B=D0=BB=D0=B8 =D0=B7=D0=B0=D0=B2=D0=B5=D1=80=D1=88=
=D0=B5=D0=BD=D1=8B =D0=B8 =D0=BF=D0=BE=D1=82=D0=BE=D0=BC =D0=BF=D0=BE=D0=BF=
=D1=80=D0=BE=D0=B1=D1=83=D0=B9=D1=82=D0=B5 =D1=81=D0=BD=D0=BE=D0=B2=D0=B0.=
=0D
=D0=95=D1=81=D0=BB=D0=B8 =D1=8D=D1=82=D0=BE =D0=BD=D0=B5 =D0=BF=D0=BE=D0=BC=
=D0=BE=D0=B6=D0=B5=D1=82, =D1=82=D0=BE =D0=B2=D0=BE=D0=B7=D0=BC=D0=BE=D0=B6=
=D0=BD=D0=BE =D0=BF=D1=80=D0=BE=D1=86=D0=B5=D1=81=D1=81 git =D0=B1=D1=8B=D0=
=BB =D1=80=D0=B0=D0=BD=D0=B5=D0=B5 =D0=B7=D0=B0=D0=B2=D0=B5=D1=80=D1=88=D0=
=B5=D0=BD=0D
=D1=81 =D0=BE=D1=88=D0=B8=D0=B1=D0=BA=D0=BE=D0=B9 =D0=B2 =D1=8D=D1=82=D0=BE=
=D0=BC =D1=80=D0=B5=D0=BF=D0=BE=D0=B7=D0=B8=D1=82=D0=BE=D1=80=D0=B8=D0=B8:=
=0D
=D1=83=D0=B4=D0=B0=D0=BB=D0=B8=D1=82=D0=B5 =D1=84=D0=B0=D0=B9=D0=BB =D0=B2=
=D1=80=D1=83=D1=87=D0=BD=D1=83=D1=8E =D0=B4=D0=BB=D1=8F =D0=BF=D1=80=D0=BE=
=D0=B4=D0=BE=D0=BB=D0=B6=D0=B5=D0=BD=D0=B8=D1=8F.=0D
rebase refs/remotes/origin/trunk: command returned error: 128=0D
=0D
=D0=92=D0=B5=D1=82=D0=BA=D0=B0 push =D1=83=D0=B4=D0=B0=D0=BB=D0=B5=D0=BD=D0=
=B0 (=D0=B1=D1=8B=D0=BB=D0=B0 5c2212d372e).=0D
$ git rebase --continue=0D
fatal: =D0=BD=D0=B5 =D1=83=D0=B4=D0=B0=D0=BB=D0=BE=D1=81=D1=8C =D0=BF=D1=80=
=D0=BE=D1=87=D0=B8=D1=82=D0=B0=D1=82=D1=8C =D1=84=D0=B0=D0=B9=D0=BB =D0=B6=
=D1=83=D1=80=D0=BD=D0=B0=D0=BB=D0=B0 =C2=AB.git/rebase-merge/message=C2=BB:=
 =D0=9D=D0=B5=D1=82 =D1=82=D0=B0=D0=BA=D0=BE=D0=B3=D0=BE =D1=84=D0=B0=D0=B9=
=D0=BB=D0=B0 =D0=B8=D0=BB=D0=B8 =D0=BA=D0=B0=D1=82=D0=B0=D0=BB=D0=BE=D0=B3=
=D0=B0=0D
```=0D
=0D
At the same time, when after I free space on my drive or set "C" locale, th=
e operation is completed from first attempt.=0D
=0D
I hope this will help to localize and fix the issue.=
